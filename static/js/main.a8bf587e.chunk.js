(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{75:function(t,e,n){},76:function(t,e,n){},77:function(t,e,n){"use strict";n.r(e);var r=n(0),c=n(10),a=n.n(c),s=n(2),o=n(3),u=n(4),i=n.n(u),b=n(8),j=n(33),l=n(16),f=n.n(l),O="http://localhost:3001/contacts/",d=function(){var t=Object(b.a)(i.a.mark((function t(){var e,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.get(O);case 3:e=t.sent,t.next=11;break;case 6:t.prev=6,t.t0=t.catch(0),n=t.t0.response,(e=Object(o.a)({},n)).isError=!0;case 11:return t.abrupt("return",e);case 12:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}(),p=function(){var t=Object(b.a)(i.a.mark((function t(e){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.post(O,e);case 3:n=t.sent,t.next=11;break;case 6:t.prev=6,t.t0=t.catch(0),r=t.t0.response,(n=Object(o.a)({},r)).isError=!0;case 11:return t.abrupt("return",n);case 12:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=Object(b.a)(i.a.mark((function t(e){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.delete(O+e);case 3:n=t.sent,t.next=11;break;case 6:t.prev=6,t.t0=t.catch(0),r=t.t0.response,(n=Object(o.a)({},r)).isError=!0;case 11:return t.abrupt("return",n);case 12:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}(),v=n(6),x=Object(v.b)("@/contact/load"),m=Object(v.b)("@/contact/add"),w=Object(v.b)("@/contact/del"),k=Object(v.b)("@/filter"),y=Object(v.b)("@/loading"),g=function(t){return function(){alert(t)}},C=n(1);var E,L=function(t){var e=t.title,n=void 0===e?"Title of Section":e,r=t.children;return Object(C.jsxs)("section",{children:[Object(C.jsx)("h2",{children:n}),r]})},T=n(7),D=n(40),F=n(34),J=n.n(F),N=n(14),S=function(t){return t.filter},A=function(t){return t.loading},B=function(t){return t.contacts},I=function(t,e){return e},P=Object(N.a)([B,S],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().startsWith(e.split(" ").join("").toLowerCase())}))})),W={name:"",number:""},q=function(){var t,e=Object(r.useState)(W),n=Object(D.a)(e,2),c=n[0],a=n[1],u=Object(s.c)((t=c,function(e){return Object(N.a)([B,I],(function(t,e){var n=e.name,r=e.number;return t.some((function(t){return t.number===r||t.name.toLowerCase()===n.toLowerCase()}))}))(e,t)})),l=Object(s.b)(),f=function(t){var e=t.target,n=e.name,r=e.value;a((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(T.a)({},n,r.trim()))}))};return Object(C.jsxs)("form",{children:[Object(C.jsxs)("label",{children:[Object(C.jsx)("h3",{children:"Name"}),Object(C.jsx)("input",{value:c.name,type:"text",name:"name",onChange:f})]}),Object(C.jsxs)("label",{children:[Object(C.jsx)("h3",{children:"Number"}),Object(C.jsx)(J.a,{mask:"+99(999)-99-99",value:c.number,type:"tel",name:"number",onChange:f})]}),Object(C.jsx)("button",{type:"submit",onClick:function(t){t.preventDefault();var e,n=c.name,r=c.number;u?l(g("This ".concat(n," is already exist."))):(l((e={name:n,number:r},function(){var t=Object(b.a)(i.a.mark((function t(n){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(y(!0)),e=Object(o.a)({id:Object(j.v4)()},e),t.next=4,p(e);case 4:(r=t.sent).isError?n(g(r.statusText+". Code:"+r.status)):n(m(e)),n(y(!1));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),a(Object(o.a)({},W)))},children:"Add contact"})]})},z=n(35),G=n(36).a.button(E||(E=Object(z.a)(["\n    display: 'inline-block',\n    color: 'red',\n"])));var H=function(t){var e=t.contact,n=t.onDelete;return Object(C.jsxs)("li",{children:[Object(C.jsxs)("span",{children:[e.name,": ",e.number]}),Object(C.jsx)(G,{id:e.id,onClick:n,children:"delete"})]})};var K=function(){var t=Object(s.c)(P),e=Object(s.c)(A),n=Object(s.b)(),r=function(t){return n((e=t.target.id,function(){var t=Object(b.a)(i.a.mark((function t(n){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(y(!0)),t.next=3,h(e);case 3:(r=t.sent).isError?n(g(r.statusText+". Code:"+r.status)):n(w(e)),n(y(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));var e};return Object(C.jsxs)(C.Fragment,{children:[e&&Object(C.jsx)("h4",{children:"Loading..."}),Object(C.jsx)("ul",{children:t.map((function(t){return!t.hidden&&Object(C.jsx)(H,{contact:t,onDelete:r},t.id)}))})]})};var M,Q=function(){var t=Object(s.c)(S).filter,e=Object(s.b)();return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("h4",{children:"Contacts filter"}),Object(C.jsx)("input",{value:t,name:"filter",type:"text",onChange:function(t){return e(k(t.target.value.trim()))}})]})},R=!1,U=function(){var t=Object(s.b)();return R||(R=!0,t(function(){var t=Object(b.a)(i.a.mark((function t(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(y(!0)),t.next=3,d();case 3:(n=t.sent).isError?e(g(n.statusText+". Code:"+n.status)):e(x(n.data||[])),e(y(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("h1",{children:"Phonebook"}),Object(C.jsx)(L,{title:"",children:Object(C.jsx)(q,{})}),Object(C.jsxs)(L,{title:"Contacts",children:[Object(C.jsx)(Q,{}),Object(C.jsx)(K,{})]})]})},V=n(13),X=Object(v.c)({contacts:[],filter:"",loading:!1},(M={},Object(T.a)(M,x,(function(t,e){var n=t.filter,r=t.contacts,c=e.payload;return{filter:n,contacts:[].concat(Object(V.a)(r),Object(V.a)(c))}})),Object(T.a)(M,m,(function(t,e){var n=t.filter,r=t.contacts,c=e.payload,a=Object(V.a)(r);return a.push(Object(o.a)({},c)),{filter:n,contacts:a}})),Object(T.a)(M,w,(function(t,e){var n=t.filter,r=t.contacts,c=e.payload;return{filter:n,contacts:r.filter((function(t){return t.id!==c}))}})),Object(T.a)(M,k,(function(t,e){var n=t.contacts;return{filter:e.payload,contacts:Object(V.a)(n)}})),Object(T.a)(M,y,(function(t,e){var n=e.payload;return Object(o.a)(Object(o.a)({},t),{},{loading:n})})),M)),Y=n(11),Z=Object(v.a)({reducer:X,middleware:[Y.a]});n(75),n(76);a.a.render(Object(C.jsx)(s.a,{store:Z,children:Object(C.jsx)(U,{})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.a8bf587e.chunk.js.map