{"version":3,"sources":["utils/API.js","redux/actions.js","redux/operations.js","Components/section/Section.js","redux/contactsSelectors.js","Components/form/Form.js","Components/contactsList/contactItem/ContactItem.js","Components/contactsList/ContactsList.js","Components/filter/Filter.js","App/App.js","redux/reducer.js","redux/store.js","index.js"],"names":["url","getData","a","axios","get","result","response","isError","postData","data","post","deleteData","id","delete","loadContacts","createAction","addContact","delContact","filter","loader","error","err","alert","Section","title","children","getFilter","isLoading","loading","getFContacts","createSelector","contacts","i","name","toLowerCase","startsWith","split","join","_INITIAL_STATE_","number","Form","useState","state","setState","isAlert","useSelector","some","isContact","dispatch","useDispatch","handleChange","target","value","trim","type","onChange","mask","onClick","e","preventDefault","contact","uuidv4","request","statusText","status","add","StyledButton","styled","button","Contact","onDelete","ContactsList","del","map","hidden","ContactItem","Filter","isMount","App","reducer","createReducer","prevContacts","payload","push","store","configureStore","middleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e531db8f.chunk.js","sourcesContent":["import axios from \"axios\"\n\nconst url = \"http://localhost:3001/contacts/\"\n\nexport const getData = async ()=>{\n\n\tlet result\n\n\ttry{\n\t\tresult = await axios.get(url)\n\t}\n\tcatch({response}){\n\t\tresult={...response}\n\t\tresult.isError=true\n\t}\n\n\treturn result\n}\n\nexport const postData = async (data)=>{\n\n\tlet result\n\n\ttry{\n\t\tresult = await axios.post(url, data)\n\t}\n\tcatch({response}){\n\t\tresult={...response}\n\t\tresult.isError=true\n\t}\n\n\treturn result\n}\n\nexport const deleteData = async (id)=>{\n\n\tlet result\n\n\ttry{\n\t\tresult = await axios.delete(url+id)\n\t}\n\tcatch({response}){\n\t\tresult={...response}\n\t\tresult.isError=true\n\t}\n\n\treturn result\n}","import { createAction } from \"@reduxjs/toolkit\"\n\nexport const loadContacts=createAction(\"@/contact/load\")\nexport const addContact=createAction(\"@/contact/add\")\nexport const delContact=createAction(\"@/contact/del\")\nexport const filter=createAction(\"@/filter\")\n\nexport const loader=createAction(\"@/loading\")","import {v4 as uuidv4} from 'uuid'\nimport { getData, postData, deleteData } from \"../utils/API\"\nimport { loadContacts, addContact as add, delContact as del, loader } from \"./actions\"\n\n\nexport const error = (err) => () => {\n\talert(err)\n}\n\nexport const load = () => async (dispatch) => {\n\tdispatch(loader(true))\n\n\tconst request = await getData()\n\n\tif(!request.isError){\n\t\tdispatch(loadContacts(request.data || []))\n\t} \n\telse {\n\t\tdispatch(error(request.statusText+\". Code:\"+request.status))\n\t}\n\tdispatch(loader(false))\n}\n\nexport const addContact = (contact) => async (dispatch) => {\n\tdispatch(loader(true))\n\tcontact={id: uuidv4(), ...contact}\n\n\tconst request = await postData(contact)\n\n\tif(!request.isError){\n\t\tdispatch(add(contact))\n\t} \n\telse {\n\t\tdispatch(error(request.statusText+\". Code:\"+request.status))\n\t}\n\tdispatch(loader(false))\t\n}\n\nexport const delContact = (id) => async (dispatch) => {\n\tdispatch(loader(true))\n\n\tconst request = await deleteData(id)\n\n\tif(!request.isError){\n\t\tdispatch(del(id))\n\t} \n\telse {\n\t\tdispatch(error(request.statusText+\". Code:\"+request.status))\n\t}\n\tdispatch(loader(false))\t\t\n}","import React from 'react'\nimport PropTypes from 'prop-types'\n\nfunction Section({title=\"Title of Section\", children}) {\n    return (\n        <section>\n            <h2>{title}</h2>\n            {children}\n        </section>\n    )\n}\n\nSection.propTypes = {\n    title: PropTypes.string,\n}\n\nexport default Section\n\n","import { createSelector } from \"@reduxjs/toolkit\"\n\n\nexport const getFilter = ({filter})=>filter\n\nexport const isLoading = ({loading})=>loading\n\nconst getContacts = ({contacts})=>contacts\n\nexport const getFContacts = createSelector(\n\t[getContacts,getFilter],\n\t(contacts, filter) => contacts.filter(i=>i.name.toLowerCase().startsWith(filter.split(\" \").join(\"\").toLowerCase()))\n)\n\nexport const isContact = ({number, name}) => ({contacts}) => contacts.some(i=>\n\ti.number===number || i.name.toLowerCase()===name.toLowerCase()\n)\n\n\n\n\n","import React, { useState } from 'react'\nimport InputMask from 'react-input-mask';\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { isContact } from '../../redux/contactsSelectors'\nimport { addContact, error } from '../../redux/operations'\n// import { addContact } from '../../redux/actions'\n\nconst _INITIAL_STATE_={\n    name:\"\",\n    number: \"\",\n}\n\nconst Form=()=>{   \n    \n    const [state,setState]=useState(_INITIAL_STATE_)\n    const isAlert = useSelector(isContact(state))\n    const dispatch = useDispatch()\n\n    const handleChange=({target:{name,value}})=>{\n        setState(state=>({...state,[name]: value.trim()}))\n    }\n\n    const handleSubmit=(e)=>{\n        e.preventDefault()  \n\n        const {name,number}=state\n\n        if(isAlert){\n            dispatch(error(`This ${name} is already exist.`))   \n\n            return\n        }     \n\n        dispatch(addContact({name,number}))\n            \n        setState({..._INITIAL_STATE_})\n    }\n\n        return(\n            <form>\n                <label>\n                    <h3>Name</h3>\n                    <input value={state.name} type=\"text\" name=\"name\" onChange={handleChange}/>\n                </label>\n                <label>\n                    <h3>Number</h3>\n                    <InputMask mask=\"+99(999)-99-99\" value={state.number} type=\"tel\" name=\"number\" onChange={handleChange}/>\n                </label>\n                <button type=\"submit\" onClick={handleSubmit}>Add contact</button>\n            </form>\n        ) \n}\n\nexport default Form","import React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\n\nconst StyledButton=styled.button`\n    display: 'inline-block',\n    color: 'red',\n`\n\nfunction Contact({contact, onDelete}) {\n    return (\n        <li>\n            <span>{contact.name}: {contact.number}</span>\n            <StyledButton id={contact.id} onClick={onDelete}>delete</StyledButton>\n        </li>\n    )\n}\n\nContact.propTypes = {\n    contact: PropTypes.shape({\n        id:PropTypes.string.isRequired,\n        name:PropTypes.string.isRequired,\n        number:PropTypes.string.isRequired,\n    }).isRequired,\n    onDelete: PropTypes.func.isRequired\n}\n\nexport default Contact\n\n","import React from 'react'\nimport ContactItem from './contactItem/ContactItem';\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { delContact } from '../../redux/operations'\nimport { getFContacts, isLoading } from '../../redux/contactsSelectors'\n\nfunction ContactsList() {\n\n    const contacts = useSelector(getFContacts)\n    const loader = useSelector(isLoading)\n    const dispatch = useDispatch()\n\n    const onDelete = (e)=> dispatch(delContact(e.target.id))\n\n    return (\n        <>\n            {loader && <h4>Loading...</h4>}\n            <ul>\n                {contacts.map(contact=> !contact.hidden && (\n                    <ContactItem key={contact.id} contact={contact} onDelete={onDelete} />\n                ))}\n            </ul>\n        </>\n    )\n}\n\nexport default ContactsList\n\n","import React from 'react'\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { getFilter } from '../../redux/contactsSelectors'\nimport { filter } from '../../redux/actions'\n\nfunction Filter() {\n\n\tconst { filter:value } = useSelector(getFilter)\n\n\tconst dispatch = useDispatch()\n\n\tconst onChange = (e) => dispatch(filter(e.target.value.trim()))\n\n    return (\n\n        <>\n            <h4>Contacts filter</h4>\n            <input value={value} name=\"filter\" type=\"text\" onChange={onChange} />\n        </>\n    )\n}\n\nexport default Filter\n\n","import React from 'react'\nimport { useDispatch } from \"react-redux\";\nimport { load } from '../redux/operations'\nimport Section from '../Components/section/Section';\nimport Form from '../Components/form/Form';\nimport ContactsList from '../Components/contactsList/ContactsList';\nimport Filter from '../Components/filter/Filter';\n\nlet isMount=false\n\nconst App=()=>{\n    const dispatch = useDispatch()\n\n    if(!isMount){\n        isMount=true\n        dispatch(load())\n    }\n    \n    return (\n            <>\n                <h1>Phonebook</h1>\n                <Section title=\"\">\n                    <Form />\n                </Section>\n                <Section title=\"Contacts\">\n                    <Filter />\n                    <ContactsList />\n                </Section>\n            </>\n    )\n}\n\nexport default App\n","import {  createReducer } from \"@reduxjs/toolkit\";\nimport {\n\tloadContacts,\n\taddContact,\n\tdelContact,\n\tfilter,\n\tloader\n} from \"./actions\"\n\nconst initState = {\n\tcontacts:[], \n\tfilter:\"\",\n\tloading:false\n}\n\nexport const reducer = createReducer(initState,{\n\t[loadContacts]: ({filter, contacts: prevContacts},{payload})=>({\n\t\tfilter, \n\t\tcontacts: [...prevContacts, ...payload]\n\t}),\n\t\n\t[addContact]: ({filter, contacts: prevContacts},{payload})=>{\n\t\tconst contacts = [...prevContacts]\n\t\tcontacts.push({...payload})\n\t\treturn ({filter, contacts});\n\t},\n\n\t[delContact]: ({filter, contacts: prevContacts},{payload})=>({\n\t\tfilter, \n\t\tcontacts: prevContacts.filter(i=>i.id!==payload)\n\t}),\n\n\t[filter]: ({contacts},{payload})=>{\n\t\treturn ({filter: payload, contacts: [...contacts]})\n\t},\n\n\t[loader]: (state,{payload})=> ({...state, loading: payload})\n})","import { configureStore} from \"@reduxjs/toolkit\";\nimport { reducer } from \"./reducer\";\nimport thunk from 'redux-thunk';\n\nconst store = configureStore({reducer, middleware: [thunk]});\n\nexport default store;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App/App\";\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\nimport './normalize.css';\nimport './globalStyles.css';\n\n// import test from './utils/test.js'\n// test()\n\nReactDOM.render(\n  <Provider store={store}>\n\t<App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}