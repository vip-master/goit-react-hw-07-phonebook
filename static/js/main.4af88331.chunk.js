(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{75:function(t,e,n){},76:function(t,e,n){},77:function(t,e,n){"use strict";n.r(e);var r=n(0),c=n(10),a=n.n(c),s=n(2),o=n(3),u=n(4),i=n.n(u),b=n(8),j=n(33),l=n(16),f=n.n(l),O="http://localhost:3001/contacts/",d=function(){var t=Object(b.a)(i.a.mark((function t(){var e,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.get(O);case 3:e=t.sent,t.next=11;break;case 6:t.prev=6,t.t0=t.catch(0),n=t.t0.response,(e=Object(o.a)({},n)).isError=!0;case 11:return t.abrupt("return",e);case 12:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}(),p=function(){var t=Object(b.a)(i.a.mark((function t(e){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.post(O,e);case 3:n=t.sent,t.next=11;break;case 6:t.prev=6,t.t0=t.catch(0),r=t.t0.response,(n=Object(o.a)({},r)).isError=!0;case 11:return t.abrupt("return",n);case 12:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=Object(b.a)(i.a.mark((function t(e){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.delete(O+e);case 3:n=t.sent,t.next=11;break;case 6:t.prev=6,t.t0=t.catch(0),r=t.t0.response,(n=Object(o.a)({},r)).isError=!0;case 11:return t.abrupt("return",n);case 12:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}(),v=n(6),x=Object(v.b)("@/contact/load"),m=Object(v.b)("@/contact/add"),w=Object(v.b)("@/contact/del"),k=Object(v.b)("@/filter"),y=Object(v.b)("@/loading"),g=function(t){return function(){alert(t)}},C=n(1);var E,L=function(t){var e=t.title,n=void 0===e?"Title of Section":e,r=t.children;return Object(C.jsxs)("section",{children:[Object(C.jsx)("h2",{children:n}),r]})},T=n(7),D=n(40),F=n(34),J=n.n(F),N=n(14),S=function(t){return t.filter},A=function(t){return t.loading},B=Object(N.a)((function(t){return t.contacts}),S,(function(t,e){return t.filter((function(t){return t.name.toLowerCase().startsWith(e.split(" ").join("").toLowerCase())}))})),I={name:"",number:""},P=function(){var t=Object(r.useState)(I),e=Object(D.a)(t,2),n=e[0],c=e[1],a=Object(s.c)(function(t){var e=t.number,n=t.name;return function(t){return t.contacts.some((function(t){return t.number===e||t.name.toLowerCase()===n.toLowerCase()}))}}(n)),u=Object(s.b)(),l=function(t){var e=t.target,n=e.name,r=e.value;c((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(T.a)({},n,r.trim()))}))};return Object(C.jsxs)("form",{children:[Object(C.jsxs)("label",{children:[Object(C.jsx)("h3",{children:"Name"}),Object(C.jsx)("input",{value:n.name,type:"text",name:"name",onChange:l})]}),Object(C.jsxs)("label",{children:[Object(C.jsx)("h3",{children:"Number"}),Object(C.jsx)(J.a,{mask:"+99(999)-99-99",value:n.number,type:"tel",name:"number",onChange:l})]}),Object(C.jsx)("button",{type:"submit",onClick:function(t){t.preventDefault();var e,r=n.name,s=n.number;a?u(g("This ".concat(r," is already exist."))):(u((e={name:r,number:s},function(){var t=Object(b.a)(i.a.mark((function t(n){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(y(!0)),e=Object(o.a)({id:Object(j.v4)()},e),t.next=4,p(e);case 4:(r=t.sent).isError?n(g(r.statusText+". Code:"+r.status)):n(m(e)),n(y(!1));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),c(Object(o.a)({},I)))},children:"Add contact"})]})},W=n(35),q=n(36).a.button(E||(E=Object(W.a)(["\n    display: 'inline-block',\n    color: 'red',\n"])));var z=function(t){var e=t.contact,n=t.onDelete;return Object(C.jsxs)("li",{children:[Object(C.jsxs)("span",{children:[e.name,": ",e.number]}),Object(C.jsx)(q,{id:e.id,onClick:n,children:"delete"})]})};var G=function(){var t=Object(s.c)(B),e=Object(s.c)(A),n=Object(s.b)(),r=function(t){return n((e=t.target.id,function(){var t=Object(b.a)(i.a.mark((function t(n){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(y(!0)),t.next=3,h(e);case 3:(r=t.sent).isError?n(g(r.statusText+". Code:"+r.status)):n(w(e)),n(y(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));var e};return Object(C.jsxs)(C.Fragment,{children:[e&&Object(C.jsx)("h4",{children:"Loading..."}),Object(C.jsx)("ul",{children:t.map((function(t){return!t.hidden&&Object(C.jsx)(z,{contact:t,onDelete:r},t.id)}))})]})};var H,K=function(){var t=Object(s.c)(S).filter,e=Object(s.b)();return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("h4",{children:"Contacts filter"}),Object(C.jsx)("input",{value:t,name:"filter",type:"text",onChange:function(t){return e(k(t.target.value.trim()))}})]})},M=!1,Q=function(){var t=Object(s.b)();return M||(M=!0,t(function(){var t=Object(b.a)(i.a.mark((function t(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(y(!0)),t.next=3,d();case 3:(n=t.sent).isError?e(g(n.statusText+". Code:"+n.status)):e(x(n.data||[])),e(y(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("h1",{children:"Phonebook"}),Object(C.jsx)(L,{title:"",children:Object(C.jsx)(P,{})}),Object(C.jsxs)(L,{title:"Contacts",children:[Object(C.jsx)(K,{}),Object(C.jsx)(G,{})]})]})},R=n(13),U=Object(v.c)({contacts:[],filter:"",loading:!1},(H={},Object(T.a)(H,x,(function(t,e){var n=t.filter,r=t.contacts,c=e.payload;return{filter:n,contacts:[].concat(Object(R.a)(r),Object(R.a)(c))}})),Object(T.a)(H,m,(function(t,e){var n=t.filter,r=t.contacts,c=e.payload,a=Object(R.a)(r);return a.push(Object(o.a)({},c)),{filter:n,contacts:a}})),Object(T.a)(H,w,(function(t,e){var n=t.filter,r=t.contacts,c=e.payload;return{filter:n,contacts:r.filter((function(t){return t.id!==c}))}})),Object(T.a)(H,k,(function(t,e){var n=t.contacts;return{filter:e.payload,contacts:Object(R.a)(n)}})),Object(T.a)(H,y,(function(t,e){var n=e.payload;return Object(o.a)(Object(o.a)({},t),{},{loading:n})})),H)),V=n(11),X=Object(v.a)({reducer:U,middleware:[V.a]});n(75),n(76);a.a.render(Object(C.jsx)(s.a,{store:X,children:Object(C.jsx)(Q,{})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.4af88331.chunk.js.map