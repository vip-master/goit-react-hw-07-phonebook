{"version":3,"sources":["utils/API.js","redux/actions.js","redux/operations.js","Components/section/Section.js","redux/contactsSelectors.js","Components/form/Form.js","Components/contactsList/contactItem/ContactItem.js","Components/contactsList/ContactsList.js","Components/filter/Filter.js","App/App.js","redux/reducer.js","redux/store.js","index.js"],"names":["url","getData","a","axios","get","result","response","isError","postData","data","post","deleteData","id","delete","loadContacts","createAction","addContact","delContact","filter","loader","error","err","console","log","status","alert","statusText","Section","title","children","getFilter","isLoading","loading","getContacts","contacts","getProps","_","props","getFContacts","createSelector","i","name","toLowerCase","startsWith","split","join","_INITIAL_STATE_","number","Form","obj","useState","state","setState","isAlert","useSelector","reduxState","some","isContact","dispatch","useDispatch","handleChange","target","value","trim","type","onChange","mask","onClick","e","preventDefault","contact","uuidv4","request","add","StyledButton","styled","button","Contact","onDelete","ContactsList","del","map","hidden","ContactItem","Filter","isMount","App","reducer","createReducer","prevContacts","payload","push","store","configureStore","middleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d55d1a94.chunk.js","sourcesContent":["import axios from \"axios\"\n\nconst url = \"http://localhost:3001/contacts/\"\n\nexport const getData = async ()=>{\n\n\tlet result\n\n\ttry{\n\t\tresult = await axios.get(url)\n\t}\n\tcatch({response}){\n\t\tresult={...response}\n\t\tresult.isError=true\n\t}\n\n\treturn result\n}\n\nexport const postData = async (data)=>{\n\n\tlet result\n\n\ttry{\n\t\tresult = await axios.post(url, data)\n\t}\n\tcatch({response}){\n\t\tresult={...response}\n\t\tresult.isError=true\n\t}\n\n\treturn result\n}\n\nexport const deleteData = async (id)=>{\n\n\tlet result\n\n\ttry{\n\t\tresult = await axios.delete(url+id)\n\t}\n\tcatch({response}){\n\t\tresult={...response}\n\t\tresult.isError=true\n\t}\n\n\treturn result\n}","import { createAction } from \"@reduxjs/toolkit\"\n\nexport const loadContacts=createAction(\"@/contact/load\")\nexport const addContact=createAction(\"@/contact/add\")\nexport const delContact=createAction(\"@/contact/del\")\nexport const filter=createAction(\"@/filter\")\n\nexport const loader=createAction(\"@/loading\")","import {v4 as uuidv4} from 'uuid'\nimport { getData, postData, deleteData } from \"../utils/API\"\nimport { loadContacts, addContact as add, delContact as del, loader } from \"./actions\"\n\n\nexport const error = (err) => () => {\n\n\tif(err.isError){\n\t\tconsole.log(err)\n\t\terr.status ? alert(`${err.statusText}. Code: ${err.status}`)\n\t\t\t: alert(\"Server down...\")\n\t} else if(typeof err === \"string\") alert(err)\n}\n\nexport const load = () => async (dispatch) => {\n\tdispatch(loader(true))\n\n\tconst request = await getData()\n\n\tif(!request.isError){\n\t\tdispatch(loadContacts(request.data || []))\n\t} \n\telse {\n\t\tdispatch(error(request))\n\t}\n\tdispatch(loader(false))\n}\n\nexport const addContact = (contact) => async (dispatch) => {\n\tdispatch(loader(true))\n\tcontact={id: uuidv4(), ...contact}\n\n\tconst request = await postData(contact)\n\n\tif(!request.isError){\n\t\tdispatch(add(contact))\n\t} \n\telse {\n\t\tdispatch(error(request))\n\t}\n\tdispatch(loader(false))\t\n}\n\nexport const delContact = (id) => async (dispatch) => {\n\tdispatch(loader(true))\n\n\tconst request = await deleteData(id)\n\n\tif(!request.isError){\n\t\tdispatch(del(id))\n\t} \n\telse {\n\t\tdispatch(error(request))\n\t}\n\tdispatch(loader(false))\t\t\n}","import React from 'react'\nimport PropTypes from 'prop-types'\n\nfunction Section({title=\"Title of Section\", children}) {\n    return (\n        <section>\n            <h2>{title}</h2>\n            {children}\n        </section>\n    )\n}\n\nSection.propTypes = {\n    title: PropTypes.string,\n}\n\nexport default Section\n\n","import { createSelector } from \"@reduxjs/toolkit\"\n\n\nexport const getFilter = ({filter})=>filter\n\nexport const isLoading = ({loading})=>loading\n\nconst getContacts = ({contacts})=>contacts\n\nconst getProps = (_,props)=>props\n\n\nexport const getFContacts = createSelector(\n\t[getContacts,getFilter],\n\t(contacts, filter) => contacts.filter(i=>i.name.toLowerCase().startsWith(filter.split(\" \").join(\"\").toLowerCase()))\n)\n\nexport const isContact = () => createSelector(\n\t[getContacts,getProps],\n\t(contacts, {name, number})=> contacts.some(i=>\n\t\ti.number===number || i.name.toLowerCase()===name.toLowerCase()\n\t)\n)","import React, { useState } from 'react'\nimport InputMask from 'react-input-mask';\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { isContact } from '../../redux/contactsSelectors'\nimport { addContact, error } from '../../redux/operations'\n// import { addContact } from '../../redux/actions'\n\nconst _INITIAL_STATE_={\n    name:\"\",\n    number: \"\",\n}\n\nconst Form=()=>{   \n    \n    const [state,setState]=useState(_INITIAL_STATE_)\n\n    const appendObj = (obj) => (reduxState) => isContact()(reduxState, obj)\n\n    const isAlert = useSelector(appendObj(state))\n    const dispatch = useDispatch()\n\n    const handleChange=({target:{name,value}})=>{\n        setState(state=>({...state,[name]: value.trim()}))\n    }\n\n    const handleSubmit=(e)=>{\n        e.preventDefault()  \n\n        const {name,number}=state\n\n        if(isAlert){\n            dispatch(error(`This ${name} is already exist.`))   \n\n            return\n        }     \n\n        dispatch(addContact({name,number}))\n            \n        setState({..._INITIAL_STATE_})\n    }\n\n        return(\n            <form>\n                <label>\n                    <h3>Name</h3>\n                    <input value={state.name} type=\"text\" name=\"name\" onChange={handleChange}/>\n                </label>\n                <label>\n                    <h3>Number</h3>\n                    <InputMask mask=\"+99(999)-99-99\" value={state.number} type=\"tel\" name=\"number\" onChange={handleChange}/>\n                </label>\n                <button type=\"submit\" onClick={handleSubmit}>Add contact</button>\n            </form>\n        ) \n}\n\nexport default Form","import React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\n\nconst StyledButton=styled.button`\n    display: 'inline-block',\n    color: 'red',\n`\n\nfunction Contact({contact, onDelete}) {\n    return (\n        <li>\n            <span>{contact.name}: {contact.number}</span>\n            <StyledButton id={contact.id} onClick={onDelete}>delete</StyledButton>\n        </li>\n    )\n}\n\nContact.propTypes = {\n    contact: PropTypes.shape({\n        id:PropTypes.string.isRequired,\n        name:PropTypes.string.isRequired,\n        number:PropTypes.string.isRequired,\n    }).isRequired,\n    onDelete: PropTypes.func.isRequired\n}\n\nexport default Contact\n\n","import React from 'react'\nimport ContactItem from './contactItem/ContactItem';\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { delContact } from '../../redux/operations'\nimport { getFContacts, isLoading } from '../../redux/contactsSelectors'\n\nfunction ContactsList() {\n\n    const contacts = useSelector(getFContacts)\n    const loader = useSelector(isLoading)\n    const dispatch = useDispatch()\n\n    const onDelete = (e)=> dispatch(delContact(e.target.id))\n\n    return (\n        <>\n            {loader && <h4>Loading...</h4>}\n            <ul>\n                {contacts.map(contact=> !contact.hidden && (\n                    <ContactItem key={contact.id} contact={contact} onDelete={onDelete} />\n                ))}\n            </ul>\n        </>\n    )\n}\n\nexport default ContactsList\n\n","import React from 'react'\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { getFilter } from '../../redux/contactsSelectors'\nimport { filter } from '../../redux/actions'\n\nfunction Filter() {\n\n\tconst { filter:value } = useSelector(getFilter)\n\n\tconst dispatch = useDispatch()\n\n\tconst onChange = (e) => dispatch(filter(e.target.value.trim()))\n\n    return (\n\n        <>\n            <h4>Contacts filter</h4>\n            <input value={value} name=\"filter\" type=\"text\" onChange={onChange} />\n        </>\n    )\n}\n\nexport default Filter\n\n","import React from 'react'\nimport { useDispatch } from \"react-redux\";\nimport { load } from '../redux/operations'\nimport Section from '../Components/section/Section';\nimport Form from '../Components/form/Form';\nimport ContactsList from '../Components/contactsList/ContactsList';\nimport Filter from '../Components/filter/Filter';\n\nlet isMount=false\n\nconst App=()=>{\n    const dispatch = useDispatch()\n\n    if(!isMount){\n        isMount=true\n        dispatch(load())\n    }\n    \n    return (\n            <>\n                <h1>Phonebook</h1>\n                <Section title=\"\">\n                    <Form />\n                </Section>\n                <Section title=\"Contacts\">\n                    <Filter />\n                    <ContactsList />\n                </Section>\n            </>\n    )\n}\n\nexport default App\n","import {  createReducer } from \"@reduxjs/toolkit\";\nimport {\n\tloadContacts,\n\taddContact,\n\tdelContact,\n\tfilter,\n\tloader\n} from \"./actions\"\n\nconst initState = {\n\tcontacts:[], \n\tfilter:\"\",\n\tloading:false\n}\n\nexport const reducer = createReducer(initState,{\n\t[loadContacts]: ({filter, contacts: prevContacts},{payload})=>({\n\t\tfilter, \n\t\tcontacts: [...prevContacts, ...payload]\n\t}),\n\t\n\t[addContact]: ({filter, contacts: prevContacts},{payload})=>{\n\t\tconst contacts = [...prevContacts]\n\t\tcontacts.push({...payload})\n\t\treturn ({filter, contacts});\n\t},\n\n\t[delContact]: ({filter, contacts: prevContacts},{payload})=>({\n\t\tfilter, \n\t\tcontacts: prevContacts.filter(i=>i.id!==payload)\n\t}),\n\n\t[filter]: ({contacts},{payload})=>{\n\t\treturn ({filter: payload, contacts: [...contacts]})\n\t},\n\n\t[loader]: (state,{payload})=> ({...state, loading: payload})\n})","import { configureStore} from \"@reduxjs/toolkit\";\nimport { reducer } from \"./reducer\";\nimport thunk from 'redux-thunk';\n\nconst store = configureStore({reducer, middleware: [thunk]});\n\nexport default store;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App/App\";\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\nimport './normalize.css';\nimport './globalStyles.css';\n\nReactDOM.render(\n  <Provider store={store}>\n\t<App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}